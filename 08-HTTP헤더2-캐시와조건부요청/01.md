> 인프런 김영한 님의 [모든 개발자를 위한 HTTP 웹 기본 지식](https://www.inflearn.com/course/http-%EC%9B%B9-%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC) 강의를 듣고 내용을 정리한 글입니다.

# 1. 캐시 기본 동작

## 캐시가 없을 때

첫 번째 요청

```
GET /star.jpg -> HTTP/1.1 200 OK
```

이때 응답이 1.1mb라고 해보자.

두 번째 요청

```
GET /star.jpg -> HTTP/1.1 200 OK
```

똑같이 응답이 1.1mb

데이터가 변경되지 않아도 계속 네트워크를 통해서 데이터를 다운로드 받아야 한다.

인터넷 네트워크는 PC 메모리나 하드디스크에 비해 매우 느리고 비싸다.

브라우저 로딩속도가 느리다 -> 느린 사용자 경험

## 캐시 적용

첫 번째 요청

```
GET /star.jpg -> HTTP/1.1 200 OK
```

이때 응답 헤더 필드에

cache-control: max-age=60 (캐시가 유효한 시간 - 초)

1.1mb 응답. 이 응답 결과를 브라우저 캐시 저장소에 저장(60초 동안)

두 번째 요청 시 우선 캐시를 탐색 -> 캐시 유효시간 내라면 네트워크 이용하지 않고 캐시를 이용

캐시 덕분에 캐시 가능 시간 동안 네트워크를 사용하지 않아도 되고 비싼 네트워크 사용량을 줄일 수 있다.

브라우저 로딩 속도가 매우 빠르다. -> 빠른 사용자 경험

세 번째 요청 - 캐시 시간 초과

캐시를 탐색 -> 유효시간 끝나 -> 네트워크 이용해서 다시 요청 -> 다시 응답 받아서 기존 거 지우고 새로 저장

캐시 유효시간이 초과하면 서버를 통해 데이터를 다시 조회하고 캐시를 갱신한다.

이때 다시 네트워크 다운로드가 발생
